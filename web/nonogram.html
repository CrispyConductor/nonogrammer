<html>
	<head>
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<link rel="stylesheet" href="nonogram.css">
		<script src="https://cdn.rawgit.com/ricmoo/aes-js/e27b99df/index.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
		<script src="bundle.js"></script>
		<title class="pageTitle"></title>
	</head>
	<body><div id="pageContainer">
		<h1 class="pageTitle"></h1>
		<div class="pageBlurbContainer">
			<div id="pageBlurbPlay" class="pageBlurb">
				<p>
					This is a <a href="https://en.wikipedia.org/wiki/Nonogram">nonogram puzzle</a>.  The
					goal of the puzzle is to fill in the cells of the grid to match the clues for each row
					and column.  Each clue represents a sequence of adjacent cells of the same color.
					Each sequence of cells must be separated by at least 1 blank space (or, for multi-color
					puzzles, may either be separated by a blank space or must be different colored sequences).
					More detailed rules are explained at <a href="https://en.wikipedia.org/wiki/Nonogram">
					the Wikipedia article</a>.
				</p>
				<p>
					To solve the puzzle, click on cells to toggle between filled and blank (or colors, for
					multi-colored puzzles).  Cells can also be marked with an 'X', to indicate that the cell
					is definitely blank, by right-clicking.  The puzzle will automatically detect when solved
					and may display a secret message if one was included with the puzzle.
				</p>
			</div>
			<div id="pageBlurbBuild" class="pageBlurb">
				<p>
					This is a <a href="https://en.wikipedia.org/wiki/Nonogram">nonogram</a> builder.
					It allows you to create a solution image, and the builder will generate a puzzle that will
					result in that image.
					Click
					on cells in the grid to toggle between colors.  Once you have created your desired configuration,
					select the desired puzzle difficulty, and click 'Generate Puzzle'.  This will display the
					generated puzzle, guaranteed to have a single solution and be solvable within the selected
					difficulty level.  It will also generate a link that can be given to others to solve.  This
					link can optionally include a hidden message, encrypted such that it can only be decoded when
					the puzzle is solved.
				</p>
				<p>
					Multi-color puzzles can be created by adding colors to the palette.  Clicking on colors in
					the palette changes the color.
				</p>
			</div>
			<div id="pageBlurbSolve" class="pageBlurb">
				<p>
					This is a <a href="https://en.wikipedia.org/wiki/Nonogram">nonogram</a> solver.  Click on
					the empty clue spaces to specify clues.  A text box pops up.  Clues should be listed
					space-separated.  Colored clues can be specified with "clue/colornumber".  Colors are numbered
					starting from 1 (normally black).  Cells can also be prefilled as definitely known or definitely a color.
				</p>
			</div>
		</div>
		<div id="paletteSelectorContainer">
			<h3>Color Palette</h3>
			<div id="paletteSelectorRow">
				<span id="paletteSelector">
				</span>
				<span id="paletteAddRemoveSpan">
					<span class="nonogramPalSelButtonSpan">
						<button id="paletteAddButton" class="ui-button ui-widget ui-corner-all ui-button-icon-only nonogramPalButton">
							<span class="ui-icon ui-icon-plus"></span>
						</button>
					</span>
					<span class="nonogramPalSelButtonSpan">
						<button id="paletteRemoveButton" class="ui-button ui-widget ui-corner-all ui-button-icon-only nonogramPalButton">
							<span class="ui-icon ui-icon-minusthick"></span>
						</button>
					</span>
				</span>
			</div>
		</div>
		<div id="puzzleContainer">
		</div>
		<div id="solvedMessage" style="display:none;">
			<div>
				<h1 id="solvedMessageText">Solved!</h1>
			</div>
			<div>
				<form method="GET" action="nonogram.html">
					<input type="hidden" name="mode" value="play">
					<table>
						<tr>
							<th>Width</th>
							<th>Height</th>
							<th>Colors</th>
							<th>Difficulty 1-10</th>
						</tr>
						<tr>
							<td><input id="playNextWidth" type="text" name="w" value="5" size="3" /></td>
							<td><input id="playNextHeight" type="text" name="h" value="5" size="3" /></td>
							<td><input id="playNextColors" type="text" name="colors" value="1" size="3" /></td>
							<td><input id="playNextDifficulty" type="text" name="difficulty" value="3" size="3" /></td>
						</tr>
					</table>
					<div><input type="submit" value="Try Another!" /></div>
				</form>
			</div>
		</div>
		<div id="resizeContainer">
			<div class="resizeButtonDiv">
				<button id="addRowButton">+ Row</button>
				<button id="removeRowButton">- Row</button>
			</div>
			<div class="resizeButtonDiv">
				<button id="addColButton">+ Col</button>
				<button id="removeColButton">- Col</button>
			</div>
		</div>
		<div id="generateContainer">
			<div>
				<span>Difficulty (1-10):</span>
				<span><input id="generateDifficulty" type="text" value="3" size="3" /></span>
				<span><button id="generateButton">Generate Puzzle</button></span>
			</div>
			<div id="generateMessageContainer">
				<span>Solved message:</span>
				<span><input id="generateMessage" type="text" size="20" /></span>
			</div>
			<div id="generateLinkContainer">
				<span>Link to play:</span>
				<span><a target="_blank" href="" id="generateLink">Play!</a></span>
			</div>
			<div id="generatePuzzleContainer">
			</div>
		</div>
		<div id="solveContainer">
			<div>
				<button id="solveButton">Solve Puzzle</button>
			</div>
			<h3 id="solutionsHeader">Possible solutions:</h3>
			<div id="solutionsContainer">
			</div>
		</div>
	</div></body>
</html>
